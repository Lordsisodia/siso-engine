# Alert Configuration for RALF Performance Monitoring
#
# This file configures alert thresholds and delivery channels for
# the performance monitoring system (Feature F-014).
#
# Documentation: operations/.docs/performance-monitoring-guide.md

# ============================================================================
# Alert Thresholds
# ============================================================================

thresholds:
  # Duration thresholds (seconds)
  duration:
    critical_seconds: 600  # 10 minutes - trigger critical alert
    warning_seconds: 300   # 5 minutes - trigger warning alert

  # Success rate thresholds (percentage)
  success_rate:
    critical_percent: 50   # 50% success rate - trigger critical alert
    warning_percent: 80    # 80% success rate - trigger warning alert

  # Queue depth thresholds
  queue_depth:
    critical: 0           # Empty queue - trigger critical alert
    warning: 2            # Low queue (< 2 tasks) - trigger warning alert

  # Agent timeout thresholds
  agent_timeout:
    seconds: 120          # 2 minutes without heartbeat - trigger critical alert

# ============================================================================
# Alert Channels
# ============================================================================

channels:
  # Log file channel (always enabled)
  log: true

  # Dashboard channel (F-008 integration)
  dashboard: true

  # Webhook channel (future - for Slack, Discord, etc.)
  webhook: false
  webhook_url: null

# ============================================================================
# Anomaly Detection Settings
# ============================================================================

anomaly_detection:
  # Z-score thresholds for statistical anomaly detection
  z_score:
    critical: 3.0         # 3 standard deviations
    warning: 2.5          # 2.5 standard deviations
    info: 2.0             # 2 standard deviations

  # Duration multipliers for rule-based detection
  duration_multiplier:
    critical: 2.0         # 2x baseline average
    warning: 1.5          # 1.5x baseline average

  # Baseline window size (number of runs for historical baseline)
  baseline_window: 50

# ============================================================================
# Data Retention
# ============================================================================

retention:
  # Maximum number of runs to keep in metrics storage
  max_metrics_records: 1000

  # Maximum number of alerts to keep in alert history
  max_alert_records: 1000

  # Maximum age of reports to keep (days)
  max_report_age_days: 90

# ============================================================================
# Report Schedule
# ============================================================================

reports:
  # Daily report generation (UTC time)
  daily:
    enabled: true
    hour: 0               # Generate at midnight UTC

  # Weekly report generation
  weekly:
    enabled: true
    day_of_week: 0        # 0 = Monday
    hour: 0               # Generate at midnight UTC

# ============================================================================
# Metadata
# ============================================================================

metadata:
  version: "1.0.0"
  created: "2026-02-01T00:00:00Z"
  last_updated: "2026-02-01T00:00:00Z"
  feature_id: "F-014"
  documentation: "operations/.docs/performance-monitoring-guide.md"
